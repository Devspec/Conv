## Скрипт гео-подмены номеров Moab Tools ##

Скрипт гео-подмены номеров позволяет использовать функционал гео-подмены телефонных номеров на вашем сайте.

Гео-подмена - это вывод того или иного телефонного номера в зависимости от города, из которого пользователь зашел к вам на сайт. Это инструмент для увеличения конверсии - пользователь более лояльно относится к сайту, если видит на нём номер из своего города.

Настроить связки "город - номер" вы можете на сайте http://tools.moab.pro/ после регистрации в личном кабинете.

Здесь находится публичная версия скрипта без индивидуальных настроек. В скрипте, который вы получите в личном кабинете после настройки связок, будут ваши индивидуальные настройки - заполненные переменные moab_api_key, moab_site_id, moab_default_city, moab_default_phone.

В этом репозитории всегда будет находиться последняя версия скрипта, которую вы можете скачать и заменить на своём сайте - это обеспечит всегда актуальную и работоспособную версию со всеми доступными возможностями. Для обновления замените шапку скрипта на свою - возьмите первые 4 строки из имеющегося у вас файла, скопируйте их и вставьте вместо первых четырех строк этого скрипта. Также последнюю версию скрипта для вашего сайта с уже заполненными индивидуальными настройками вы всегда можете скачать на сайте http://tools.moab.pro/ в разделе "Гео-подмена номеров" личного кабинета.

Пример использования скрипта вы можете посмотреть в файле geo_test.html

## Документация ##
Подключение скрипта к сайту производится обычным для javascript способом:
```html
<script src="moabgeo.js"></script>
```
Вызвать функцию подмены необходимо следующим кодом, который также необходимо разместить на каждой странице, на которых должна происходить подмена:
```html
<script>
new MoabGeo();
MoabGeo.Do();
</script>
```
Затем нужно изменить те HTML-элементы сайта, куда вы планируете выводить информацию о номере и городе. Для корректной работы функции нужно проставить data-атрибуты следующим образом:
```html
<div data-phone></div>
<div data-city></div>
```
Атрибут data-phone подставляется в элемент, отвечающий за вывод телефона, а атрибут data-city – в элемент, отвечающий за вывод города соответственно. Данные о городе и телефоне будут подставлены в innerHTML указанных элементов.
Не обязательно использовать оба элемента - вы можете использовать только один - например, вывести только телефон или только город. Также можно использовать, например, несколько элементов с одинаковыми атрибутом data-phone или data-city - в этом случае замена содержимого произойдёт во всех имеющихся элементах с одинаковым атрибутом.
Если нужно отформатировать номер телефона – можно создать функцию с параметром:
```html
<script>
new MoabGeo("+# (###) ###-##-##");
MoabGeo.Do();
</script>
```
Примеры форматов и результатов форматирования приведены в таблице ниже:

Формат  | Результат 
------------- | -------------
+# (###) ###-##-##  | +7 (499) 123-23-23
+# (###) ###-#### | +7 (499) 123-2323
+# ### ###-##-## | +7 499 123-23-23
8 (###) ###-##-## | 8 (499) 123-23-23
